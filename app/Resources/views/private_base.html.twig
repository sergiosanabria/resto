<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Digesto Jurídico | Admin</title>
    <link rel="icon" type="image/x-icon" href="{{ asset('bundles/app/img/favicon.png') }}"/>
    <!-- Tell the browser to be responsive to screen width -->
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <!-- Bootstrap 3.3.6 -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Digesto Jurídico | Admin</title>
    <link rel="icon" type="image/x-icon" href="{{ asset('bundles/app/img/favicon.png') }}"/>
    <!-- Tell the browser to be responsive to screen width -->
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <!-- Bootstrap 3.3.6 -->
    <link rel="stylesheet" href="{{ asset('build/global.css') }}">

    <!-- Ionicons -->
    <link rel="stylesheet" href="{{ asset('bundles/app/plugins/Ionicons/css/ionicons.min.css') }}">
    <link rel="stylesheet" href="{{ asset('bundles/app/plugins/font-awesome/css/font-awesome.min.css') }}">

    {#<!-- DataTables -->#}
    {#<link rel="stylesheet" href="{{ asset('bundles/app/plugins/datatables/dataTables.bootstrap.css') }}">#}
    {#<!-- Select2 -->#}
    {#<link rel="stylesheet" href="{{ asset('bundles/app/plugins/select2/select2.min.css') }}">#}
    <!-- Theme style -->
    <link rel="stylesheet" href="{{ asset('bundles/app/adminlte/css/AdminLTE.min.css') }}">
    <!-- AdminLTE Skins. Choose a skin from the css/skins
         folder instead of downloading all of them to reduce the load. -->
    <link rel="stylesheet" href="{{ asset('bundles/app/adminlte/css/skins/_all-skins.min.css') }}">
    <!-- iCheck -->
    <link rel="stylesheet" href="{{ asset('bundles/app/plugins/iCheck/flat/blue.css') }}">
    <!-- Morris chart -->
    <link rel="stylesheet" href="{{ asset('bundles/app/plugins/morris.js/morris.css') }}">
    <!-- jvectormap -->
    <link rel="stylesheet" href="{{ asset('bundles/app/plugins/jvectormap/jquery-jvectormap.css') }}">

    <!-- Bootstrap time Picker -->
    <link rel="stylesheet"
          href="{{ asset('bundles/app/plugins/bootstrap-datepicker/dist/css/bootstrap-datepicker.min.css') }}">
    <link rel="stylesheet" href="{{ asset('bundles/app/plugins/bootstrap-daterangepicker/daterangepicker.css') }}">
    <link rel="stylesheet" href="{{ asset('bundles/app/plugins/timepicker/bootstrap-timepicker.min.css') }}">
    <!-- bootstrap wysihtml5 - text editor -->
    <link rel="stylesheet" href="{{ asset('bundles/app/plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.min.css') }}">


    {% block stylesheets %}
    {% endblock stylesheets %}


</head>


<body class="hold-transition skin-green sidebar-mini">
<div class="wrapper">

    <header class="main-header">
        <!-- Logo -->
        <a href="#" class="logo">
            <!-- mini logo for sidebar mini 50x50 pixels -->
            <span class="logo-mini"><b>D</b>J</span>
            <!-- logo for regular state and mobile devices -->
            <span class="logo-lg"><b>Pedidos</b>Online</span>
        </a>
        <!-- Header Navbar: style can be found in header.less -->
        <nav class="navbar navbar-static-top">
            <!-- Sidebar toggle button-->
            <a href="#" class="sidebar-toggle" data-toggle="offcanvas" role="button">
                <span class="sr-only">Toggle navigation</span>
            </a>

            <div class="navbar-custom-menu">
                <ul class="nav navbar-nav">
                    <!-- Tasks: style can be found in dropdown.less -->
                    <li class="dropdown tasks-menu">

                    </li>
                    <!-- User Account: style can be found in dropdown.less -->
                    <li class="dropdown user user-menu">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            <img src="{{ asset('bundles/app/img/avatar.jpg') }}" class="user-image" alt="User Image">
                            <span class="hidden-xs">
                            {% if is_granted("ROLE_ADMIN") or is_granted("ROLE_USER") %}
                                {{ app.user }}
                            {% endif %}
                            </span>
                        </a>
                        <ul class="dropdown-menu">
                            <!-- User image -->
                            <li class="user-header">
                                <img src="{{ asset('bundles/app/img/avatar.jpg') }}" class="img-circle"
                                     alt="User Image">

                                <p>
                                    {% if is_granted("ROLE_ADMIN") %}
                                        {{ app.user }}
                                    {% elseif is_granted("ROLE_USER") %}
                                        {{ app.user }}
                                    {% endif %}
                                    <small>Miembro desde {{ app.user.creado | date('M Y') }}</small>
                                </p>
                            </li>
                            <!-- Menu Footer-->
                            <li class="user-footer">
                                <div class="pull-left">
                                    {% if is_granted("ROLE_ADMIN") or is_granted("ROLE_USER") %}
                                        <a href="{{ path('fos_user_change_password') }}"
                                           class="btn btn-default btn-flat">
                                            {{ 'perfil' |trans }}
                                        </a>
                                    {% endif %}
                                </div>
                                <div class="pull-right">
                                    <a href="{{ path('fos_user_security_logout') }}"
                                       class="btn btn-default btn-flat">{{ 'layout.logout'|trans({}, 'FOSUserBundle') }}</a>
                                </div>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </nav>
    </header>
    <!-- Left side column. contains the logo and sidebar -->
    <aside class="main-sidebar">
        <!-- sidebar: style can be found in sidebar.less -->
        <section class="sidebar">
            {{ include('::menu_lateral.html.twig') }}
        </section>
        <!-- /.sidebar -->
    </aside>

    <!-- Content Wrapper. Contains page content -->
    <div class="content-wrapper">
        <!-- Content Header (Page header) -->
        {#<section class="content-header">#}
        {#<h1>#}
        {#Dashboard#}
        {#<small>Control panel</small>#}
        {#</h1>#}
        {#<ol class="breadcrumb">#}
        {#<li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>#}
        {#<li class="active">Dashboard</li>#}
        {#</ol>#}
        {#</section>#}

        <!-- Main content -->
        <section class="content">
            {% for flashMessage in app.session.flashbag.get('success') %}
                <div class="alert alert-dismissable alert-success">
                    <i class="fa fa-check"></i>
                    <button type="button" class="close" data-dismiss="alert">×</button>
                    {{ flashMessage }}
                </div>
            {% endfor %}
            {% for flashMessage in app.session.flashbag.get('error') %}
                <div class="alert alert-dismissable alert-danger">
                    <i class="fa fa-ban"></i>
                    <button type="button" class="close" data-dismiss="alert">×</button>
                    {{ flashMessage }}
                </div>

            {% endfor %}

            {% for flashMessage in app.session.flashbag.get('warning') %}
                <div class="alert alert-dismissable alert-warning">
                    <i class="fa fa-warning"></i>
                    <button type="button" class="close" data-dismiss="alert">×</button>
                    {{ flashMessage }}
                </div>

            {% endfor %}
            {% for flashMessage in app.session.flashbag.get('info') %}
                <div class="alert alert-info alert-dismissable">
                    <button class="close" aria-hidden="true" data-dismiss="alert" type="button">×</button>
                    <h4>
                        <i class="icon fa fa-info"></i>
                        Info!
                    </h4>
                    {{ flashMessage }}
                </div>

            {% endfor %}

            {% block content %}
            {% endblock content %}

        </section>
        <!-- /.content -->
    </div>
    <!-- /.content-wrapper -->
    <footer class="main-footer">
        <div class="pull-right hidden-xs">
            <b>Version</b> {{ version }}
        </div>
        <strong>Copyright &copy; {{ "now"|date('Y') }} <a href="#">{{ site_name }}</a>.</strong> All rights
        reserved.
    </footer>
</div>
<!-- ./wrapper -->


<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->

<!-- jQuery 2.2.3 -->
{#NO esta encontrado en jquery#}
{#<script src="{{ asset('build/app.js') }}"></script>#}

<script src="{{ asset('bundles/app/plugins/jquery/dist/jquery.min.js') }}"></script>


<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- jQuery UI 1.11.4 -->
<script src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js"></script>
<!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
<script>
    $.widget.bridge('uibutton', $.ui.button);
</script>
{#<!-- Bootstrap 3.3.6 -->#}
<script src="{{ asset('bundles/app/plugins/bootstrap/dist/js/bootstrap.min.js') }}"></script>

<!-- SlimScroll -->
<script src="{{ asset('bundles/app/plugins/jquery-slimscroll/jquery.slimscroll.min.js') }}"></script>
<!-- Select2 -->
<script src="{{ asset('bundles/app/plugins/select2/dist/js/select2.full.js') }}"></script>
<!-- Select2 i18n-->
<script src="{{ asset('bundles/app/plugins/select2/dist/js/i18n/'~ app.request.locale ~'.js') }}"></script>
<!-- Morris.js charts -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>
{#<script src="{{ asset('bundles/app/plugins/morris/morris.min.js') }}"></script>#}
{#<!-- Sparkline -->#}
{#<script src="{{ asset('bundles/app/plugins/sparkline/jquery.sparkline.min.js') }}"></script>#}
<!-- jvectormap -->
<script src="{{ asset('bundles/app/plugins/jvectormap/jquery-jvectormap-1.2.2.min.js') }}"></script>
<script src="{{ asset('bundles/app/plugins/jvectormap/jquery-jvectormap-world-mill-en.js') }}"></script>
<!-- jQuery Knob Chart -->
<script src="{{ asset('bundles/app/plugins/jquery-knob/dist/jquery.knob.min.js') }}"></script>
<!-- daterangepicker -->
<script src="{{ asset('bundles/app/plugins/moment/min/moment.min.js') }}"></script>
<script src="{{ asset('bundles/app/plugins/bootstrap-daterangepicker/daterangepicker.js') }}"></script>
<!-- datepicker -->
<script src="{{ asset('bundles/app/plugins/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js') }}"></script>
<!-- datepicker locales-->
{% if app.request.locale != 'en' %}
    <script src="{{ asset('bundles/app/plugins/bootstrap-datepicker/dist/locales/bootstrap-datepicker.'~ app.request.locale ~'.min.js') }}"></script>
{% endif %}
<!-- bootstrap time picker -->
<script src="{{ asset('bundles/app/plugins/timepicker/bootstrap-timepicker.min.js') }}"></script>
<!-- Bootstrap WYSIHTML5 -->
<script src="{{ asset('bundles/app/plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.all.min.js') }}"></script>
<!-- FastClick -->
<script src="{{ asset('bundles/app/plugins/fastclick/lib/fastclick.js') }}"></script>
{#<!-- blockUI -->#}
{#<script src="{{ asset('bundles/util/js/jquery.blockUI.js') }}"></script>#}
<!-- AdminLTE App -->
<script src="{{ asset('bundles/app/adminlte/js/adminlte.min.js') }}"></script>

{# global sets #}
<script>
    function bootstrapCollectionBorrarItem(item) {
        $(item).parent().parent().remove();
    }

    twigLocale = "{{ app.request.locale }}";

    function inicializarFecha() {
//Date picker
        $('.datepicker').datepicker({
            format: "dd/mm/yyyy",
            language: twigLocale,
            autoclose: true
        });
        //Date range picker
        $('.daterange').daterangepicker({
            format: 'DD/MM/YYYY',
            "locale": {
                "separator": " - ",
                "applyLabel": "Aplicar",
                "cancelLabel": "Cancelar",
                "fromLabel": "Desde",
                "toLabel": "Hasta",
                "customRangeLabel": "Custom",
                "daysOfWeek": [
                    "Lu",
                    "Ma",
                    "Mi",
                    "Ju",
                    "Vi",
                    "Sa",
                    "Do"
                ],
                "monthNames": [
                    "Enero",
                    "Febrero",
                    "Marzo",
                    "Abril",
                    "Mayo",
                    "Junio",
                    "Julio",
                    "Agosto",
                    "Septiembre",
                    "Octubre",
                    "Noviembre",
                    "Deciembre"
                ],
                "firstDay": 1
            },
        });
        //Timepicker
        $(".timepicker").timepicker({
            showInputs: false,
            showMeridian: false,
            defaultTime: false
        });

        $(".select2").select2({
            language: twigLocale,
            "language": {
                "noResults": function () {
                    return "No se encontraron resultados";
                }
            },
        });

        $(".select2-tags").select2({
            language: twigLocale,
            "language": {
                "noResults": function () {
                    return "No se encontraron resultados";
                }
            },
            tags: true,
        });
    }

    function modalAlert(msg) {
        $('#modal-alert .modal-body').html(msg);
        $('#modal-alert').modal('toggle');
    }

    /**
     * Funcion para limpiar los campos de un form
     *
     * @param form el formulario a limpiar
     */
    function resetFormulario(form) {

        form.find('input, textarea, input:not([type="submit"])').removeAttr('value');
        form.find('input, textarea, input:not([type="submit"])').val('');
        form.find('input:radio, input:checkbox').removeAttr('checked').removeAttr('selected');

        form.find('select option').removeAttr('selected').find('option:first').attr('selected', 'selected');

    }

    $(document).ready(function () {

        $(document).ajaxStart(function () {
            $.blockUI(
                {
                    message: '<div class="progress progress-striped active"><div class="progress-bar" style="width: 100%"></div></div>',
                    css: {backgroundColor: 'none', border: 'none'},
                    baseZ: 1050,
                }
            )
        });
        $(document).ajaxStop($.unblockUI);


        if (typeof twigLocale === 'undefined') {
            twigLocale = 'es';
        }


        inicializarFecha();

        // $(".data-table").DataTable({
        //     "paging": false,
        //     "autoWidth": true,
        //     "info": false,
        //     "scrollX": true,
        //     "order": [],
        //     "language": {
        //         "search": "Buscar:",
        //         "zeroRecords": "Sin resultados"
        //     }
        // });

        //iCheck for checkbox and radio inputs
        //$('input[type="checkbox"].minimal, input[type="radio"].minimal').iCheck({
        //    checkboxClass: 'icheckbox_minimal-blue',
        //    radioClass: 'iradio_minimal-blue'
        //});

        $("button:reset").click(function () {
            resetFormulario($(this).parents('form'));
        })
    });


</script>


{% block javascripts %}
{% endblock javascripts %}

<!-- AdminLTE dashboard demo (This is only for demo purposes) -->
{#<script src="{{ asset('bundles/app/adminlte/js/pages/dashboard.js') }}"></script>#}
<!-- AdminLTE for demo purposes -->
{#<script src="{{ asset('bundles/app/adminlte/js/demo.js') }}"></script>#}
</body>
</html>
